(this["webpackJsonpbubble-front-end"]=this["webpackJsonpbubble-front-end"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var s,a=n(0),r=n.n(a),o=n(31),c=n.n(o),i=(n(85),n(55)),l=n(8),u=n(9),d=n(11),h=n(10),j=n(14),m=n(118),b=n(2),p=n(3),g=n(1),O=["user","component","render"],x=function(e){var t=e.user,n=e.component,s=e.render,a=Object(p.a)(e,O);return t&&s?Object(g.jsx)(j.b,Object(b.a)(Object(b.a)({},a),{},{render:s})):Object(g.jsx)(j.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return t?Object(g.jsx)(n,Object(b.a)({},e)):Object(g.jsx)(j.a,{to:"/"})}}))},f=n(61),v=(n(94),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleClose=function(){return s.setState({show:!1})},s.state={show:!0},s.timeoutId=null,s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,n=e.heading,s=e.message,a=e.deleteAlert,r=e.id;return this.state.show||setTimeout((function(){a(r)}),300),Object(g.jsx)(f.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(f.a.Heading,{children:n}),Object(g.jsx)("p",{className:"alert-body",children:s})]})})}}]),n}(r.a.Component)),w=n(80),C=n(45),y=n(12),k={color:"#03045e"},A={color:"#fff",marginRight:"15px",fontWeight:"700"},S=Object(g.jsxs)(a.Fragment,{children:[Object(g.jsxs)(y.c,{to:"/home",style:k,className:"nav-link",children:["Home"," "]}),Object(g.jsxs)(y.c,{to:"/profile",style:k,className:"nav-link",children:["Profile"," "]}),Object(g.jsx)(y.c,{to:"/change-password",style:k,className:"nav-link",children:"Change Password"}),Object(g.jsx)(y.c,{to:"/users-list",style:k,className:"nav-link",children:"All Users"}),Object(g.jsx)(y.c,{to:"/sign-out",style:k,className:"nav-link",children:"Sign Out"})]}),P=Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(y.c,{to:"/sign-up",style:k,className:"nav-link",children:"Sign Up"}),Object(g.jsx)(y.c,{to:"/sign-in",style:k,className:"nav-link",children:"Sign In"})]}),D=function(e){var t=e.user;return Object(g.jsxs)(C.a,{bg:"info",variant:"dark",expand:"md",children:[Object(g.jsx)(C.a.Brand,{children:Object(g.jsx)(y.b,{to:"/",style:{color:"#03045e",textDecoration:"none"},children:"Bubble"})}),Object(g.jsx)(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(C.a.Collapse,{id:"basic-navbar-nav",children:Object(g.jsxs)(w.a,{className:"ml-auto",children:[t&&Object(g.jsxs)("span",{className:"navbar-text mr-2",style:A,children:["Welcome, ",t.username]}),t?S:P]})})]})},I=n(7),F="https://peaceful-shelf-48363.herokuapp.com",N="http://localhost:4741",U="localhost"===window.location.hostname?N:F,L=n(18),B=n.n(L),W=function(e){return B()({url:U+"/sign-in/",method:"POST",data:{credentials:{email:e.email,username:e.username,password:e.password}}})},E=n(5),G=n(21),T={color:"#03045e"},_=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.onSignUp=function(e){e.preventDefault();var t,n=s.props,a=n.msgAlert,r=n.history,o=n.setUser;(t=s.state,B()({method:"POST",url:U+"/sign-up/",data:{credentials:{email:t.email,username:t.username,password:t.password,password_confirmation:t.passwordConfirmation}}})).then((function(){return W(s.state)})).then((function(e){return o(e.data.user)})).then((function(){return a({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"})})).then((function(){return r.push("/")})).catch((function(e){s.setState({email:"",password:"",passwordConfirmation:""}),a({heading:"Sign Up Failed with error: "+e.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"})}))},s.state={email:"",password:"",passwordConfirmation:""},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.username,s=e.password,a=e.passwordConfirmation;return Object(g.jsx)("div",{style:T,className:"row",children:Object(g.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Sign Up"}),Object(g.jsxs)(E.a,{onSubmit:this.onSignUp,children:[Object(g.jsxs)(E.a.Group,{controlId:"email",children:[Object(g.jsx)(E.a.Label,{children:"Email address"}),Object(g.jsx)(E.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"username",children:[Object(g.jsx)(E.a.Label,{children:"Username"}),Object(g.jsx)(E.a.Control,{required:!0,type:"username",name:"username",value:n,placeholder:"Create Username",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"password",children:[Object(g.jsx)(E.a.Label,{children:"Password"}),Object(g.jsx)(E.a.Control,{required:!0,name:"password",value:s,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"passwordConfirmation",children:[Object(g.jsx)(E.a.Label,{children:"Password Confirmation"}),Object(g.jsx)(E.a.Control,{required:!0,name:"passwordConfirmation",value:a,type:"password",placeholder:"Confirm Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{style:T,variant:"info",type:"submit",children:"Submit"})]})]})})}}]),n}(a.Component),q=Object(j.f)(_),z={color:"#03045e"},H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.onSignIn=function(e){e.preventDefault();var t=s.props,n=t.msgAlert,a=t.history,r=t.setUser;W(s.state).then((function(e){return r(e.data.user)})).then((function(){return n({heading:"Sign In Success",message:"Welcome!",variant:"success"})})).then((function(){return a.push("/")})).catch((function(e){s.setState({email:"",username:"",password:""}),n({heading:"Sign In Failed with error: "+e.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"})}))},s.state={email:"",username:"",password:""},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.username,s=e.password;return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{style:z,className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Sign In"}),Object(g.jsxs)(E.a,{onSubmit:this.onSignIn,children:[Object(g.jsxs)(E.a.Group,{controlId:"email",children:[Object(g.jsx)(E.a.Label,{children:"Email address"}),Object(g.jsx)(E.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"username",children:[Object(g.jsx)(E.a.Label,{children:"Username"}),Object(g.jsx)(E.a.Control,{required:!0,type:"username",name:"username",value:n,placeholder:"Enter Username",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"password",children:[Object(g.jsx)(E.a.Label,{children:"Password"}),Object(g.jsx)(E.a.Control,{required:!0,name:"password",value:s,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{style:z,variant:"info",type:"submit",children:"Submit"})]})]})})}}]),n}(a.Component),M=Object(j.f)(H),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msgAlert,n=e.history,s=e.clearUser;(function(e){return B()({url:U+"/sign-out/",method:"DELETE",headers:{Authorization:"Bearer ".concat(e.token)}})})(e.user).finally((function(){return t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"})})).finally((function(){return n.push("/")})).finally((function(){return s()}))}},{key:"render",value:function(){return""}}]),n}(a.Component),V=Object(j.f)(R),Y={color:"#03045e"},J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.onChangePassword=function(e){e.preventDefault();var t=s.props,n=t.msgAlert,a=t.history,r=t.user;(function(e,t){return B()({url:U+"/change-password/",method:"PATCH",headers:{Authorization:"Bearer ".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})(s.state,r).then((function(){return n({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"})})).then((function(){return a.push("/")})).catch((function(e){s.setState({oldPassword:"",newPassword:""}),n({heading:"Change Password Failed with error: "+e.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"})}))},s.state={oldPassword:"",newPassword:""},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.oldPassword,n=e.newPassword;return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{style:Y,className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Change Password"}),Object(g.jsxs)(E.a,{onSubmit:this.onChangePassword,children:[Object(g.jsxs)(E.a.Group,{controlId:"oldPassword",children:[Object(g.jsx)(E.a.Label,{children:"Old password"}),Object(g.jsx)(E.a.Control,{required:!0,name:"oldPassword",value:t,type:"password",placeholder:"Old Password",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"newPassword",children:[Object(g.jsx)(E.a.Label,{children:"New Password"}),Object(g.jsx)(E.a.Control,{required:!0,name:"newPassword",value:n,type:"password",placeholder:"New Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{variant:"info",style:Y,type:"submit",children:"Submit"})]})]})})}}]),n}(a.Component),K=Object(j.f)(J),Q=function(e){return B()({method:"GET",url:U+"/posts/",headers:{Authorization:"Bearer ".concat(e.token)}})},X=function(e,t){return B()({method:"DELETE",url:U+"/posts/"+e,headers:{Authorization:"Bearer ".concat(t.token)}})},Z={color:"#03045e"},$=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){e.preventDefault();var t=s.props,n=t.user,a=t.msgAlert;(function(e,t){return B()({method:"POST",url:U+"/posts/",data:{post:e},headers:{Authorization:"Bearer ".concat(t.token)}})})(s.state,n).then((function(){a({heading:"New Post Created",message:"Woo Created",variant:"success"})})).catch((function(e){a({heading:"Post Creation Fail",message:"Post error: "+e.message,variant:"danger"})})),s.setState({title:"",text:""})},s.state={title:"",text:"",owner:"",likes:0,comments:[]},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h4",{style:Z,children:this.props.user.username}),Object(g.jsxs)(E.a,{onSubmit:this.handleSubmit,children:[Object(g.jsxs)(E.a.Group,{controlId:"title",children:[Object(g.jsx)(E.a.Label,{style:Z,children:"New Post"}),Object(g.jsx)(E.a.Control,{required:!0,name:"title",value:this.state.title,placeholder:"New Post Subject",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"text",children:[Object(g.jsx)(E.a.Label,{style:Z,children:"Whats on your mind? "}),Object(g.jsx)(E.a.Control,{required:!0,name:"text",value:this.state.text,placeholder:"Your Post",onChange:this.handleChange})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit"})]})]})}}]),n}(a.Component),ee={background:"#0dcaf0",borderRadius:"20px",padding:"1.5em",margin:"10px",color:"#03045e"},te={color:"#03045e"},ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleDelete=function(){var e=s.props,t=e.match,n=e.user,a=e.msgAlert,r=e.history;X(t.params.id,n).then((function(){return r.push("/posts")})).then((function(){a({heading:"Delete success",message:"Woot deleted",variant:"success"})})).catch((function(e){a({heading:"Delete fail",message:"Delete error: "+e.message,variant:"danger"})}))},s.state={posts:null},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.user,s=t.msgAlert;Q(n).then((function(t){return e.setState({posts:t.data.posts})})).then((function(){s({heading:"Welcome to Bubble Home!",message:"Look at allll those Posts",variant:"success"})})).catch((function(e){s({heading:"Index Failed",message:"Index error:"+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e,t=this.state.posts;return null===t?"Loading...":(e=0===t.length?"No posts, create some":t.map((function(e){var t;return Object(g.jsxs)("div",{style:ee,children:[Object(g.jsx)("h1",{children:null===(t=e.owner)||void 0===t?void 0:t.username}),Object(g.jsx)("h5",{children:e.title}),Object(g.jsx)("p",{children:e.text}),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y.b,{to:"/posts/".concat(e._id),children:Object(g.jsx)("button",{type:"button",style:te,className:"btn btn-light",children:"View Post"})})})]},e._id)})).reverse(),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{style:te,children:"Bubble Feed"}),Object(g.jsx)("ul",{children:e})]}))}}]),n}(a.Component),se={background:"#0dcaf0",borderRadius:"20px",padding:"1.5em",margin:"10px",color:"#03045e"},ae=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleDelete=function(){var e=s.props,t=e.match,n=e.user,a=e.msgAlert,r=e.history;X(t.params.id,n).then((function(){return r.push("/posts")})).then((function(){a({heading:"Delete success",message:"Woot deleted",variant:"success"})})).catch((function(e){a({heading:"Delete fail",message:"Delete error: "+e.message,variant:"danger"})}))},s.upvote=function(){s.setState((function(e){return{likes:e.likes+1}}))},s.commentDelete=function(e){var t=s.props,n=t.match,a=t.user,r=t.msgAlert;(function(e,t,n){return B()({method:"PATCH",url:U+"/posts/"+t+"/commentdelete",data:{post:e},headers:{Authorization:"Bearer ".concat(n.token)}})})({commentId:e},n.params.id,a).then((function(){r({heading:"Comment Deleted",message:"bye bye",variant:"success"})})).catch((function(e){r({heading:"Create Delete Fail",message:"Comment Delete error: "+e.message,variant:"danger"})}))},s.state={title:"",text:"",likes:0,updated:!1},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.match,s=t.user,a=t.msgAlert;(function(e,t){return B()({method:"GET",url:U+"/posts/"+e,headers:{Authorization:"Bearer ".concat(t.token)}})})(n.params.id,s).then((function(t){return e.setState({title:t.data.posts.title,text:t.data.posts.text,likes:t.data.posts.likes,updated:!0,owner:t.data.posts.owner,commentCopy:t.data.posts.comments})})).then((function(){a({heading:"Viewing Post",message:"Woot success",variant:"success"})})).catch((function(e){a({heading:"View failed",message:"Error message: "+e.message,variant:"danger"})}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.match,n=e.user;!function(e,t,n){B()({method:"PATCH",url:U+"/posts/"+t+"/likes",data:{post:e},headers:{Authorization:"Bearer ".concat(n.token)}})}(this.state,t.params.id,n)}},{key:"render",value:function(){var e,t=this;if(null===this.state.post)return"Loading...";var n=this.props,s=n.user,a=n.history,r=n.match;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{style:se,children:[Object(g.jsx)("h3",{children:"Viewing Post:"}),Object(g.jsx)("h4",{children:this.state.title}),Object(g.jsx)("p",{children:this.state.text}),Object(g.jsx)("ul",{children:null===(e=this.state.commentCopy)||void 0===e?void 0:e.map((function(e){return Object(g.jsxs)("li",{"data-id":e._id,children:[e.comment,"  ",Object(g.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(){return t.commentDelete(e._id)},children:"\uff61\u2218oOo"})]},e._id)}))}),Object(g.jsxs)("p",{children:["bubbled ",this.state.likes,"x"]}),s._id===this.state.owner&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(G.a,{onClick:this.handleDelete,children:"Delete"}),Object(g.jsx)(G.a,{onClick:function(){return a.push("/posts/".concat(r.params.id,"/edit"))},children:"Update"})]}),Object(g.jsx)(G.a,{onClick:function(){return a.push("/posts/".concat(r.params.id,"/comments"))},children:"Comment"}),Object(g.jsx)(G.a,{onClick:this.upvote,children:"\u2218\u02da\u02f3\xb0"})]})})}}]),n}(a.Component),re=Object(j.f)(ae),oe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){e.preventDefault();var t=s.props,n=t.match,a=t.user,r=t.msgAlert;(function(e,t,n){return B()({method:"PATCH",url:U+"/posts/"+t,data:{post:e},headers:{Authorization:"Bearer ".concat(n.token)}})})(s.state,n.params.id,a).then((function(){return s.setState({updated:!0})})).then((function(){r({heading:"Post Updated",message:"Woo Updated",variant:"success"})})).catch((function(e){r({heading:"Post Update Fail",message:"Post error: "+e.message,variant:"danger"})}))},s.state={title:"",text:"",updated:!1},s}return Object(u.a)(n,[{key:"render",value:function(){return this.state.updated?Object(g.jsx)(j.a,{to:"/home/"}):Object(g.jsxs)(E.a,{onSubmit:this.handleSubmit,children:[Object(g.jsxs)(E.a.Group,{controlId:"title",children:[Object(g.jsx)(E.a.Label,{children:"Post Subject"}),Object(g.jsx)(E.a.Control,{required:!0,name:"title",value:this.state.title,placeholder:"Update Subject",onChange:this.handleChange})]}),Object(g.jsxs)(E.a.Group,{controlId:"text",children:[Object(g.jsx)(E.a.Label,{children:"Update your Post"}),Object(g.jsx)(E.a.Control,{required:!0,name:"text",value:this.state.text,placeholder:"Update Post",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{type:"submit",children:"Submit"})]})}}]),n}(a.Component),ce=Object(j.f)(oe),ie=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleChange=function(e){return s.setState(Object(I.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){e.preventDefault();var t=s.props,n=t.match,a=t.user,r=t.msgAlert;(function(e,t,n){return B()({method:"PATCH",url:U+"/posts/"+t+"/comments",data:{post:e},headers:{Authorization:"Bearer ".concat(n.token)}})})(s.state,n.params.id,a).then((function(){return s.setState({updated:!0})})).then((function(){r({heading:"Comment Created",message:"Woot you participated",variant:"success"})})).catch((function(e){r({heading:"Create Comment Fail",message:"Comment error: "+e.message,variant:"danger"})}))},s.state={comment:"",updated:!1},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.match;return this.state.updated?Object(g.jsx)(j.a,{to:"/posts/"+e.params.id}):Object(g.jsxs)(E.a,{onSubmit:this.handleSubmit,children:[Object(g.jsxs)(E.a.Group,{controlId:"title",children:[Object(g.jsx)(E.a.Label,{children:"Post Comment"}),Object(g.jsx)(E.a.Control,{required:!0,name:"comment",value:this.state.comment,placeholder:"Comment",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{type:"submit",children:"Submit"})]})}}]),n}(a.Component),le=Object(j.f)(ie),ue=n(75),de=n(76).a.div(s||(s=Object(ue.a)(['\n border: 3px solid #03045e;\n  background-color:#0dcaf0;\n  padding:20px;\n  border-radius:100px;\n  min-width:40px;\n  max-width:220px;\n  min-height:40px;\n  width:200px;\n  height:200px;\n  margin:30px;\n  position:relative;\n  align-items:center;\n  justify-content:center;\n  text-align:center;\n  &:before,\n  &:after {\n      border: 1px solid #03045e;\n      content:"";\n  background-color:#0dcaf0;\n  border-radius:50%;\n  display:block;\n  position:absolute;\n  z-index:-1;\n  }\n  &:before {\n      width:44px;\n  height:44px;\n  top:-12px;\n  left:28px;\n  box-shadow:-50px 30px 0 -12px #fff;\n  }\n  &:after {\n        bottom:-10px;\n  right:26px;\n  width:30px;\n  height:30px;\n  box-shadow:40px -34px 0 0 #fff,\n             -28px -6px 0 -2px #fff,\n             -24px 17px 0 -6px #fff,\n             -5px 25px 0 -10px #fff;\n  }\n']))),he={maxWidth:"200px",wordWrap:"break-word"},je={textDecoration:"none",color:"white"},me=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={users:null},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.user,s=t.msgAlert;(function(e){return B()({method:"GET",url:U+"/users-list/",headers:{Authorization:"Bearer ".concat(e.token)}})})(n).then((function(t){return e.setState({users:t.data.users})})).then(console.log(this.users)).then((function(){s({heading:"Welcome to Bubble Home!",message:"Look at allll those users",variant:"success"})})).catch((function(e){s({heading:"Index Failed",message:"Index error:"+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e,t=this.state.users;return console.log(this.state),null===t?"Loading...":(e=0===t.length?"No users, create some":t.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y.b,{style:je,to:"/profile/".concat(e._id),children:Object(g.jsx)(de,{children:Object(g.jsx)("h3",{style:he,children:e.username})},e._id)})})})),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Find Bubble Feed"}),Object(g.jsx)("ul",{children:e})]})}))}}]),n}(a.Component),be=Object(j.f)(me),pe={background:"#0dcaf0",borderRadius:"20px",padding:"1.5em",margin:"10px",color:"#03045e"},ge={color:"#03045e"},Oe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={user:null,posts:null},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.user,s=t.msgAlert;Q(n).then((function(t){return e.setState({posts:t.data.posts})})).then((function(){s({heading:"Welcome to Bubble Home!",message:"Look at allll those Posts",variant:"success"})})).catch((function(e){s({heading:"Index Failed",message:"Index error:"+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e,t=this,n=this.state.posts;return null===n?"Loading...":(e=0===n.length?"No posts, create some":n.filter((function(e){return e.owner._id==t.props.match.params.id})).map((function(e){return Object(g.jsxs)("div",{style:pe,children:[Object(g.jsx)("h3",{children:e.owner.username}),Object(g.jsx)("h4",{children:e.title}),Object(g.jsx)("p",{children:e.text}),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y.b,{to:"/posts/".concat(e._id),children:Object(g.jsx)("button",{type:"button",style:ge,className:"btn btn-light",children:"View Post"})})})]},e._id)})).reverse(),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{style:ge,children:"Bubble Feed"}),Object(g.jsx)("ul",{children:e})]}))}}]),n}(a.Component),xe=Object(j.f)(Oe),fe={background:"#0dcaf0",borderRadius:"20px",padding:"1.5em",margin:"10px",color:"#03045e"},ve={color:"#03045e"},we=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).handleDelete=function(){var e=s.props,t=e.match,n=e.user,a=e.msgAlert,r=e.history;X(t.params.id,n).then((function(){return r.push("/posts")})).then((function(){a({heading:"Delete success",message:"Woot deleted",variant:"success"})})).catch((function(e){a({heading:"Delete fail",message:"Delete error: "+e.message,variant:"danger"})}))},s.state={posts:null},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.user,s=t.msgAlert;Q(n).then((function(t){return e.setState({posts:t.data.posts})})).then((function(){s({heading:"Welcome to Bubble Home!",message:"Look at allll those Posts",variant:"success"})})).catch((function(e){s({heading:"Index Failed",message:"Index error:"+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e,t=this,n=this.state.posts;return null===n?"Loading...":(e=0===n.length?"No posts, create some":n.filter((function(e){return e.owner._id==t.props.user._id})).map((function(e){return Object(g.jsxs)("div",{style:fe,children:[Object(g.jsx)("h3",{children:t.props.user.username}),Object(g.jsx)("h4",{children:e.title}),Object(g.jsx)("p",{children:e.text}),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y.b,{to:"/posts/".concat(e._id),children:Object(g.jsx)("button",{type:"button",style:ve,className:"btn btn-light",children:"View Post"})})})]},e._id)})).reverse(),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{style:ve,children:"Your Bubble Feed"}),Object(g.jsx)("ul",{children:e})]}))}}]),n}(a.Component),Ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).setUser=function(e){return s.setState({user:e})},s.clearUser=function(){return s.setState({user:null})},s.deleteAlert=function(e){s.setState((function(t){return{msgAlerts:t.msgAlerts.filter((function(t){return t.id!==e}))}}))},s.msgAlert=function(e){var t=e.heading,n=e.message,a=e.variant,r=Object(m.a)();s.setState((function(e){return{msgAlerts:[].concat(Object(i.a)(e.msgAlerts),[{heading:t,message:n,variant:a,id:r}])}}))},s.state={user:null,msgAlerts:[]},s}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.msgAlerts,s=t.user;return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(D,{user:s}),n.map((function(t){return Object(g.jsx)(v,{heading:t.heading,variant:t.variant,message:t.message,id:t.id,deleteAlert:e.deleteAlert},t.id)})),Object(g.jsxs)("main",{className:"container",children:[Object(g.jsx)(j.b,{path:"/sign-up",render:function(){return Object(g.jsx)(q,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(g.jsx)(j.b,{path:"/sign-in",render:function(){return Object(g.jsx)(M,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(g.jsx)(x,{user:s,path:"/sign-out",render:function(){return Object(g.jsx)(V,{msgAlert:e.msgAlert,clearUser:e.clearUser,user:s})}}),Object(g.jsx)(x,{user:s,path:"/change-password",render:function(){return Object(g.jsx)(K,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/home",render:function(){return Object(g.jsx)($,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/home",render:function(){return Object(g.jsx)(ne,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/posts/:id",render:function(){return Object(g.jsx)(re,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/posts/:id/edit",render:function(){return Object(g.jsx)(ce,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/users-list",render:function(){return Object(g.jsx)(be,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/posts/:id/comments",render:function(){return Object(g.jsx)(le,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,path:"/profile/:id",render:function(){return Object(g.jsx)(xe,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(x,{user:s,exact:!0,path:"/profile/",render:function(){return Object(g.jsx)(we,{msgAlert:e.msgAlert,user:s})}})]})]})}}]),n}(a.Component),ye=Object(g.jsx)(y.a,{basename:"/front-end-client",children:Object(g.jsx)(Ce,{})});c.a.render(ye,document.getElementById("root"))},85:function(e,t,n){},94:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.db83fd92.chunk.js.map